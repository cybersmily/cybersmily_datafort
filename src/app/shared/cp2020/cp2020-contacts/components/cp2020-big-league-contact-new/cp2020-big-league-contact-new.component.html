<div class="border border-dark py-2 px-3">
  @if(!isAdding) {
  <div class="row csd-btn" title="Add new Big League Contact" tab-index="0" (click)="isAdding = !isAdding">
    <div class="col-12 text-center">
      <fa-icon class="csd-icon-btn csd-icon-xl" [icon]="faPlus" size="xl"></fa-icon>
    </div>
  </div>
  } @else {
  <div class="row hidden-print small">
    <div class="col-8 col-md-2 pt-1">
      <p-floatlabel class="w-100 d-inline-block" variant="on">
        <input pInputText type="text" class="w-100" pSize="small" title="Enter contact name."
          [(ngModel)]="contact.name" />
        <label for="on_label">Name</label>
      </p-floatlabel>
    </div>
    <div [ngClass]="{
          'col-1 small pe-3 order-md-last': true,
          'csd-highlight': contact.cost > maximumPoints
        }">
      {{ contact.cost }}pts
    </div>
    <div class="col-3 col-md-1 order-md-last text-end pt-0">
      <button (click)="addContact()" title="Add contact" class="csd-btn csd-icon-btn csd-icon-xl mt-0 me-3"
        [disabled]="isDisabled()">
        <fa-icon [icon]="faSave" size="xl"></fa-icon>
      </button>
      <button (click)="isAdding = false" title="Cancel" class="csd-btn csd-icon-btn csd-icon-xl mt-0">
        <fa-icon [icon]="faTimes" size="xl"></fa-icon>
      </button>
    </div>
    <div class="col-6 col-md-2 small ps-md-0 pt-1">
      <p-floatlabel class="w-full md:w-56" variant="on">
        <p-select class="w-100" [(ngModel)]="contact.capability" [options]="catagories.capabilities" optionLabel="name"
          size="small" title="Choose a capability for the contact">
          <ng-template let-capability #item>
            <div class="flex items-center gap-2">
              <div>{{ capability.name }} ({{ capability.cost }}pts)</div>
            </div>
          </ng-template>
        </p-select>
        <label for="on_label">Capability</label>
      </p-floatlabel>
    </div>
    <div class="col-6 col-md-2 small ps-md-0 pt-1">
      <p-floatlabel class="w-full md:w-56" variant="on">
        <p-select class="w-100" [(ngModel)]="contact.reputation" [options]="catagories.reputations" optionLabel="name"
          size="small" title="Choose a reputation for the contact">
          <ng-template let-reputation #item>
            <div class="flex items-center gap-2">
              <div>{{ reputation.name }} ({{ reputation.effect }})</div>
            </div>
          </ng-template>
        </p-select>
        <label for="on_label">Reputation</label>
      </p-floatlabel>
    </div>
    <div class="col-6 col-md-2 small ps-md-0 pt-1">
      <p-floatlabel class="w-full md:w-56" variant="on">
        <p-select class="w-100" [(ngModel)]="contact.availability" [options]="catagories.availabilities"
          optionLabel="name" size="small" title="Choose a availability for the contact">
          <ng-template let-availability #item>
            <div class="flex items-center gap-2">
              <div>{{availability.name}} (test {{ availability.effect }})</div>
            </div>
          </ng-template>
        </p-select>
        <label for="on_label">Availability</label>
      </p-floatlabel>
    </div>
    <div class="col-6 col-md-2 small ps-md-0 pt-1">
      <p-floatlabel class="w-full md:w-56" variant="on">
        <p-select class="w-100" [(ngModel)]="contact.reliability" [options]="catagories.reliabilities"
          optionLabel="name" size="small" title="Choose a reliability for the contact">
          <ng-template let-reliability #item>
            <div class="flex items-center gap-2">
              <div>{{reliability.name}} ({{ reliability.effect }})</div>
            </div>
          </ng-template>
        </p-select>
        <label for="on_label">Reliability</label>
      </p-floatlabel>
    </div>
  </div>
  @if(contact.cost > maximumPoints) {
  <div class="row small">
    <div class="col-10 offset-1">
      <span class="csd-highlight">Exceeded available points.</span>
    </div>
  </div>
  }
  <div class="row mt-2">
    <div class="col-11 big-league-details">
      <p-floatlabel variant="on">
        <textarea pTextarea class="w-100" [(ngModel)]="contact.details"
          placeholder="Enter details about contact..."></textarea>
        <label for="on_label">Contact Details</label>
      </p-floatlabel>
    </div>
  </div>
  }
</div>
